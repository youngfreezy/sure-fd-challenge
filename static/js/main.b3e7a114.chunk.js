(this["webpackJsonpsure-fd-challenge"]=this["webpackJsonpsure-fd-challenge"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),i=(a(70),a(2)),o=a(13),u=a(56),m=a(12),s=(a(71),a(72),a(156)),d=a(158),v=a(157),E=(a(73),a(74),a(161)),f=a(155);var h=function(e){var t=e.label,a=e.id,n=e.onChange,l=e.error;return r.a.createElement("div",{className:"input-field"},r.a.createElement(E.a,{error:l,htmlFor:a},t),r.a.createElement(f.a,{id:a,onChange:n}))};var b=function(e){var t=e.onChange,a=e.addressState,n=e.submitted;return r.a.createElement("div",{className:"address-form"},r.a.createElement(s.a,null,r.a.createElement(h,{label:"Address",id:"line_1",onChange:t,error:n&&!a.line_1})),r.a.createElement(s.a,null,r.a.createElement(h,{label:"Line 2",id:"line_2",onChange:t})),r.a.createElement(s.a,null,r.a.createElement(h,{label:"City",id:"city",onChange:t,error:n&&!a.city})),r.a.createElement(s.a,null,r.a.createElement(h,{label:"Region",id:"region",onChange:t,error:n&&!a.region})),r.a.createElement(s.a,null,r.a.createElement(h,{label:"Postal",id:"postal",onChange:t,error:n&&!a.postal})))},p=a(23);a(78);var g=function(e){var t=e.onChange,a=e.addressState,l=e.handleSubmit,c=Object(p.f)(),i=Object(n.useState)(!1),o=Object(m.a)(i,2),u=o[0],E=o[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E(!0),function(e){for(var t=["first_name","last_name","line_1","city","region","postal"],a=0;a<t.length;a++)if(!e[t[a]])return!1;return!0}(a)&&(l(e),c.push("/quote"))}},r.a.createElement("div",{className:"rating-form"},r.a.createElement(s.a,null,r.a.createElement(h,{label:"First Name",id:"first_name",onChange:t,error:u&&!a.first_name})),r.a.createElement(s.a,null,r.a.createElement(h,{label:"Last Name",id:"last_name",onChange:t,error:u&&!a.last_name})),r.a.createElement(b,{onChange:t,addressState:a,submitted:u}),r.a.createElement(v.a,{id:"helper-text"},"We'll never share your personal information.")),r.a.createElement(d.a,{id:"submit",type:"submit",color:"primary"},"Submit"))},C=(a(80),a(33)),j=a.n(C);var O=function(e){var t=e.quote;return r.a.createElement("div",null,j()(t,"premium")&&r.a.createElement("div",null,"Hi ",r.a.createElement("strong",null,t.policy_holder.first_name,"!"),r.a.createElement("i",null,r.a.createElement("h5",null,"Your current premium is:"," ",r.a.createElement("span",{className:"value"},t.premium)))),j()(t,"variable_selections")&&Object.keys(t.variable_selections).map((function(e,a){return r.a.createElement("i",{key:a},r.a.createElement("h5",null,r.a.createElement("div",null,"Your ",e," is:"," ",r.a.createElement("span",{className:"value"},t.variable_selections[e]))))})))},_=a(160),y=a(162);a(122);var S=function(e){var t=e.quote,a=e.makeChangesButtonClicked,l=e.handleClick,c=Object(n.useState)(""),i=Object(m.a)(c,2),o=i[0],u=i[1],s=Object(n.useState)(""),v=Object(m.a)(s,2),E=v[0],f=v[1];return r.a.createElement("div",null,!a&&r.a.createElement(d.a,{className:"variable-selection-button",color:"primary",onClick:l},"Make Changes"),r.a.createElement("div",{className:"variable-options"},a&&Object.keys(j()(t,"variable_options")).map((function(e){return t.variable_options[e]})).map((function(e,t){return e?r.a.createElement("div",{key:t,className:"variable-option"},r.a.createElement("div",{className:"option-row"},e.title,": ",e.description),r.a.createElement("div",{className:"select-text"},r.a.createElement("i",null,"Select a new option below: ")),r.a.createElement(_.a,{className:"select-option",value:"Deductible"===e.title?o||e.values[0]:E||e.values[0],onChange:function(t){var a;a=t,"Deductible"===e.title?u(a.target.value):f(a.target.value)}},e.values.map((function(e,t){return r.a.createElement(y.a,{value:e,key:t},e)})))):null}))),r.a.createElement("div",null,a&&r.a.createElement(d.a,{color:"primary",onClick:l},"Cancel Changes")))};var k=function(e){var t=e.err;return r.a.createElement("div",null,r.a.createElement("div",null,"There was the following error(s) loading the quote: "),r.a.createElement("div",null,r.a.createElement("pre",null,JSON.stringify(t.errors,null,4))))};var N=function(e){var t=e.quote,a=Object(n.useState)(!1),l=Object(m.a)(a,2),c=l[0],i=l[1],o=t.quoteId&&!t.err;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},!o&&t.err&&r.a.createElement(k,{err:t.err}),o&&r.a.createElement(O,{quote:t}),o&&r.a.createElement(S,{quote:t,makeChangesButtonClicked:c,handleClick:function(){i(!c)}}))},w=a(34),q=a(159);var x=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),s=Object(m.a)(c,2),d=s[0],v=s[1];Object(n.useEffect)((function(){var e=setInterval((function(){l((function(e){return e>=100?0:e+1}))}),20);return function(){clearInterval(e)}}),[]);var E=Object(n.useReducer)((function(e,t){var a=t.field,n=t.value;return Object(u.a)({},e,Object(o.a)({},a,n))}),{}),f=Object(m.a)(E,2),h=f[0],b=f[1],C=Object(n.useState)({}),j=Object(m.a)(C,2),O=j[0],_=j[1];return r.a.createElement(w.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(w.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/quote"},"Quote"))),r.a.createElement("hr",null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(g,{onChange:function(e){b({field:e.target.id,value:e.target.value})},addressState:h,handleSubmit:function(e){var t=h.first_name,a=h.last_name,n={address:Object(i.a)(h,["first_name","last_name"]),first_name:t,last_name:a};v(!0),fetch("https://fed-challenge-api.sure.now.sh/api/v1/quotes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(v(!1),!e.quote)throw e;_(e.quote)})).catch((function(e){_({err:e}),v(!1)}))}})),r.a.createElement(p.a,{path:"/quote"},d?r.a.createElement(q.a,{variant:"determinate",value:a}):null,r.a.createElement(N,{quote:O})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,a){e.exports=a(123)},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.b3e7a114.chunk.js.map